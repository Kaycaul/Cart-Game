[gd_scene load_steps=17 format=2]

[ext_resource path="res://Scripts/Player.gd" type="Script" id=1]
[ext_resource path="res://Scripts/PathLine.gd" type="Script" id=2]
[ext_resource path="res://Scenes/CoinPlacer.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/ObstaclePlacer.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/HUD.tscn" type="PackedScene" id=5]
[ext_resource path="res://assets/explosion.wav" type="AudioStream" id=6]
[ext_resource path="res://assets/pickupCoin.wav" type="AudioStream" id=7]
[ext_resource path="res://assets/cart.png" type="Texture" id=8]
[ext_resource path="res://assets/karleton tunnel adventure3.png" type="Texture" id=9]
[ext_resource path="res://Scripts/EndOfLevel3Area2D.gd" type="Script" id=10]
[ext_resource path="res://assets/awful with trumpet.mp3" type="AudioStream" id=11]

[sub_resource type="Curve2D" id=1]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, -2080, -2114, 0, 0, 0, 0, -2079, -2061, 0, 0, 0, 0, -2074, -2008, 0, 0, 0, 0, -2042, -1941, 0, 0, 0, 0, -2000, -1886, 0, 0, 0, 0, -1938, -1831, 0, 0, 0, 0, -1881, -1791, 0, 0, 0, 0, -1814, -1755, 0, 0, 0, 0, -1751, -1723, 0, 0, 0, 0, -1682, -1690, 0, 0, 0, 0, -1616, -1665, 0, 0, 0, 0, -1535, -1644, 0, 0, 0, 0, -1465, -1635, 0, 0, 0, 0, -1371, -1635, 0, 0, 0, 0, -1292, -1647, 0, 0, 0, 0, -1200, -1673, 0, 0, 0, 0, -1101, -1702, 0, 0, 0, 0, -1013, -1734, 0, 0, 0, 0, -937, -1757, 0, 0, 0, 0, -848, -1780, 0, 0, 0, 0, -758, -1795, 0, 0, 0, 0, -680, -1805, 0, 0, 0, 0, -612, -1814, 0, 0, 0, 0, -528, -1821, 0, 0, 0, 0, -450, -1822, 0, 0, 0, 0, -376, -1822, 0, 0, 0, 0, -301, -1821, 0, 0, 0, 0, -226, -1816, 0, 0, 0, 0, -149, -1809, 0, 0, 0, 0, -72, -1798, 0, 0, 0, 0, -7, -1788, 0, 0, 0, 0, 57, -1775, 0, 0, 0, 0, 117, -1763, 0, 0, 0, 0, 191, -1744, 0, 0, 0, 0, 246, -1727, 0, 0, 0, 0, 297, -1705, 0, 0, 0, 0, 344, -1678, 0, 0, 0, 0, 398, -1646, 0, 0, 0, 0, 455, -1613, 0, 0, 0, 0, 505, -1580, 0, 0, 0, 0, 560, -1540, 0, 0, 0, 0, 612, -1492, 0, 0, 0, 0, 661, -1437, 0, 0, 0, 0, 704, -1375, 0, 0, 0, 0, 739, -1325, 0, 0, 0, 0, 774, -1272, 0, 0, 0, 0, 808, -1218, 0, 0, 0, 0, 838, -1161, 0, 0, 0, 0, 867, -1102, 0, 0, 0, 0, 891, -1046, 0, 0, 0, 0, 911, -994, 0, 0, 0, 0, 925, -940, 0, 0, 0, 0, 943, -867, 0, 0, 0, 0, 958, -805, 0, 0, 0, 0, 973, -750, 0, 0, 0, 0, 995, -678, 0, 0, 0, 0, 1015, -615, 0, 0, 0, 0, 1030, -559, 0, 0, 0, 0, 1037, -508, 0, 0, 0, 0, 1042, -443, 0, 0, 0, 0, 1044, -368, 0, 0, 0, 0, 1039, -316, 0, 0, 0, 0, 1027, -251, 0, 0, 0, 0, 1017, -186, 0, 0, 0, 0, 1008, -125, 0, 0, 0, 0, 999, -65, 0, 0, 0, 0, 990, -11, 0, 0, 0, 0, 979, 43, 0, 0, 0, 0, 959, 95, 0, 0, 0, 0, 924, 162, 0, 0, 0, 0, 888, 222, 0, 0, 0, 0, 834, 300, 0, 0, 0, 0, 779, 363, 0, 0, 0, 0, 717, 430, 0, 0, 0, 0, 670, 475, 0, 0, 0, 0, 622, 510, 0, 0, 0, 0, 564, 542, 0, 0, 0, 0, 504, 576, 0, 0, 0, 0, 441, 613, 0, 0, 0, 0, 367, 653, 0, 0, 0, 0, 304, 690, 0, 0, 0, 0, 249, 728, 0, 0, 0, 0, 198, 767, 0, 0, 0, 0, 142, 809, 0, 0, 0, 0, 81, 845, 0, 0, 0, 0, 18, 871, 0, 0, 0, 0, -53, 896, 0, 0, 0, 0, -128, 915, 0, 0, 0, 0, -197, 932, 0, 0, 0, 0, -271, 946, 0, 0, 0, 0, -340, 951, 0, 0, 0, 0, -422, 957, 0, 0, 0, 0, -493, 963, 0, 0, 0, 0, -576, 967, 0, 0, 0, 0, -653, 969, 0, 0, 0, 0, -726, 967, 0, 0, 0, 0, -794, 957, 0, 0, 0, 0, -859, 942, 0, 0, 0, 0, -924, 926, 0, 0, 0, 0, -983, 910, 0, 0, 0, 0, -1046, 887, 0, 0, 0, 0, -1105, 862, 0, 0, 0, 0, -1166, 831, 0, 0, 0, 0, -1223, 792, 0, 0, 0, 0, -1286, 751, 0, 0, 0, 0, -1355, 705, 0, 0, 0, 0, -1428, 656, 0, 0, 0, 0, -1625, 520, 0, 0, 0, 0, -1693, 472, 0, 0, 0, 0, -1732, 436, 0, 0, 0, 0, -1769, 384, 0, 0, 0, 0, -1794, 310, 0, 0, 0, 0, -1813, 242, 0, 0, 0, 0, -1833, 154, 0, 0, 0, 0, -1839, 62, 0, 0, 0, 0, -1839, -66, 0, 0, 0, 0, -1831, -122, 0, 0, 0, 0, -1807, -217, 0, 0, 0, 0, -1777, -307, 0, 0, 0, 0, -1745, -393, 0, 0, 0, 0, -1707, -478, 0, 0, 0, 0, -1645, -627, 0, 0, 0, 0, -1608, -703, 0, 0, 0, 0, -1568, -778, 0, 0, 0, 0, -1510, -861, 0, 0, 0, 0, -1453, -936, 0, 0, 0, 0, -1400, -983, 0, 0, 0, 0, -1324, -1038, 0, 0, 0, 0, -1238, -1091, 0, 0, 0, 0, -1160, -1129, 0, 0, 0, 0, -1079, -1142, 0, 0, 0, 0, -983, -1171, 0, 0, 0, 0, -888, -1204, 0, 0, 0, 0, -795, -1229, 0, 0, 0, 0, -706, -1252, 0, 0, 0, 0, -640, -1270, 0, 0, 0, 0, -553, -1287, 0, 0, 0, 0, -456, -1292, 0, 0, 0, 0, -378, -1290, 0, 0, 0, 0, -335, -1280, 0, 0, 0, 0, -295, -1267, 0, 0, 0, 0, -225, -1240, 0, 0, 0, 0, -136, -1210, 0, 0, 0, 0, -77, -1187, 0, 0, 0, 0, -33, -1160, 0, 0, 0, 0, 17, -1125, 0, 0, 0, 0, 61, -1094, 0, 0, 0, 0, 117, -1064, 0, 0, 0, 0, 170, -1025, 0, 0, 0, 0, 227, -971, 0, 0, 0, 0, 289, -930, 0, 0, 0, 0, 352, -861, 0, 0, 0, 0, 402, -796, 0, 0, 0, 0, 428, -748, 0, 0, 0, 0, 454, -679, 0, 0, 0, 0, 480, -608, 0, 0, 0, 0, 505, -536, 0, 0, 0, 0, 521, -455, 0, 0, 0, 0, 535, -391, 0, 0, 0, 0, 538, -324, 0, 0, 0, 0, 537, -236, 0, 0, 0, 0, 533, -164, 0, 0, 0, 0, 518, -78, 0, 0, 0, 0, 496, 15, 0, 0, 0, 0, 472, 76, 0, 0, 0, 0, 448, 138, 0, 0, 0, 0, 414, 215, 0, 0, 0, 0, 376, 282, 0, 0, 0, 0, 326, 347, 0, 0, 0, 0, 282, 411, 0, 0, 0, 0, 227, 464, 0, 0, 0, 0, 166, 504, 0, 0, 0, 0, 93, 548, 0, 0, 0, 0, 18, 588, 0, 0, 0, 0, -83, 623, 0, 0, 0, 0, -157, 643, 0, 0, 0, 0, -238, 661, 0, 0, 0, 0, -306, 666, 0, 0, 0, 0, -354, 669, 0, 0, 0, 0, -410, 680, 0, 0, 0, 0, -466, 682, 0, 0, 0, 0, -539, 683, 0, 0, 0, 0, -606, 681, 0, 0, 0, 0, -684, 682, 0, 0, 0, 0, -764, 684, 0, 0, 0, 0, -849, 680, 0, 0, 0, 0, -924, 661, 0, 0, 0, 0, -981, 632, 0, 0, 0, 0, -1039, 603, 0, 0, 0, 0, -1101, 567, 0, 0, 0, 0, -1164, 525, 0, 0, 0, 0, -1224, 476, 0, 0, 0, 0, -1278, 415, 0, 0, 0, 0, -1315, 362, 0, 0, 0, 0, -1347, 309, 0, 0, 0, 0, -1380, 240, 0, 0, 0, 0, -1400, 176, 0, 0, 0, 0, -1412, 123, 0, 0, 0, 0, -1424, 77, 0, 0, 0, 0, -1425, 31, 0, 0, 0, 0, -1431, -9, 0, 0, 0, 0, -1433, -69, 0, 0, 0, 0, -1428, -135, 0, 0, 0, 0, -1417, -187, 0, 0, 0, 0, -1403, -228, 0, 0, 0, 0, -1395, -269, 0, 0, 0, 0, -1375, -315, 0, 0, 0, 0, -1347, -353, 0, 0, 0, 0, -1315, -388, 0, 0, 0, 0, -1283, -426, 0, 0, 0, 0, -1250, -463, 0, 0, 0, 0, -1217, -504, 0, 0, 0, 0, -1192, -545, 0, 0, 0, 0, -1164, -586, 0, 0, 0, 0, -1117, -627, 0, 0, 0, 0, -1070, -667, 0, 0, 0, 0, -1027, -697, 0, 0, 0, 0, -987, -709, 0, 0, 0, 0, -912, -730, 0, 0, 0, 0, -848, -750, 0, 0, 0, 0, -800, -769, 0, 0, 0, 0, -749, -782, 0, 0, 0, 0, -710, -790, 0, 0, 0, 0, -652, -791, 0, 0, 0, 0, -596, -792, 0, 0, 0, 0, -549, -791, 0, 0, 0, 0, -515, -780, 0, 0, 0, 0, -471, -769, 0, 0, 0, 0, -423, -757, 0, 0, 0, 0, -364, -743, 0, 0, 0, 0, -314, -728, 0, 0, 0, 0, -254, -707, 0, 0, 0, 0, -206, -686, 0, 0, 0, 0, -139, -660, 0, 0, 0, 0, -89, -627, 0, 0, 0, 0, -50, -601, 0, 0, 0, 0, -8, -568, 0, 0, 0, 0, 21, -531, 0, 0, 0, 0, 40, -483, 0, 0, 0, 0, 52, -425, 0, 0, 0, 0, 61, -347, 0, 0, 0, 0, 63, -277, 0, 0, 0, 0, 64, -223, 0, 0, 0, 0, 61, -181, 0, 0, 0, 0, 48, -135, 0, 0, 0, 0, 33, -94, 0, 0, 0, 0, 13, -46, 0, 0, 0, 0, 2, -27, 0, 0, 0, 0, -15, -5, 0, 0, 0, 0, -33, 18, 0, 0, 0, 0, -57, 36, 0, 0, 0, 0, -89, 50, 0, 0, 0, 0, -124, 66, 0, 0, 0, 0, -159, 88, 0, 0, 0, 0, -186, 105, 0, 0, 0, 0, -229, 127, 0, 0, 0, 0, -268, 149, 0, 0, 0, 0, -307, 169, 0, 0, 0, 0, -357, 177, 0, 0, 0, 0, -408, 186, 0, 0, 0, 0, -483, 185, 0, 0, 0, 0, -535, 182, 0, 0, 0, 0, -587, 169, 0, 0, 0, 0, -645, 150, 0, 0, 0, 0, -698, 119, 0, 0, 0, 0, -747, 82, 0, 0, 0, 0, -775, 50, 0, 0, 0, 0, -794, 20, 0, 0, 0, 0, -810, -16, 0, 0, 0, 0, -824, -48, 0, 0, 0, 0, -836, -68, 0, 0, 0, 0, -853, -95, 0, 0, 0, 0, -866, -128, 0, 0, 0, 0, -868, -180, 0, 0, 0, 0, -867, -227, 0, 0, 0, 0, -867, -262, 0, 0, 0, 0, -854, -283, 0, 0, 0, 0, -836, -304, 0, 0, 0, 0, -812, -330, 0, 0, 0, 0, -780, -346, 0, 0, 0, 0, -738, -354, 0, 0, 0, 0, -706, -356, 0, 0, 0, 0, -677, -362, 0, 0, 0, 0, -641, -362, 0, 0, 0, 0, -597, -362, 0, 0, 0, 0, -548, -362, 0, 0, 0, 0, -508, -350, 0, 0, 0, 0, -480, -331, 0, 0, 0, 0, -450, -308, 0, 0, 0, 0, -429, -290, 0, 0, 0, 0, -415, -258, 0, 0, 0, 0, -404, -223, 0, 0, 0, 0, -400, -193, 0, 0, 0, 0, -393, -157, 0, 0, 0, 0, -394, -123, 0, 0, 0, 0, -398, -89 )
}

[sub_resource type="Curve" id=4]
min_value = 0.25
max_value = 0.55
_data = [ Vector2( 0, 0.25 ), 0.0, 0.0, 0, 0, Vector2( 0.233333, 0.271818 ), 0.279379, 0.279379, 0, 0, Vector2( 0.728571, 0.55 ), 0.0636364, 0.0, 0, 0 ]

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 12.1401, 17.8391 )

[sub_resource type="Animation" id=3]
resource_name = "skid"
length = 1.3
tracks/0/type = "value"
tracks/0/path = NodePath("Player:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ 90.0002, 100.0, 110.0, 120.0, 110.0, 100.0, 90.0, 80.0, 70.0, 60.0, 70.0, 80.0, 90.0 ]
}

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 33.5, 22.25 )

[node name="Root2" type="Node"]

[node name="Scenery" type="Node2D" parent="."]
position = Vector2( 77, 207 )

[node name="Background" type="Sprite" parent="Scenery"]
scale = Vector2( 1.5, 1.5 )
texture = ExtResource( 9 )
__meta__ = {
"_edit_lock_": true
}

[node name="PlayerPath" type="Path2D" parent="."]
curve = SubResource( 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="PathLine" type="Line2D" parent="PlayerPath"]
position = Vector2( 1, 0 )
points = PoolVector2Array( -2081, -2098 )
width = 80.0
default_color = Color( 0.905882, 0.462745, 0.247059, 1 )
antialiased = true
script = ExtResource( 2 )

[node name="PlayerPathFollow" type="PathFollow2D" parent="PlayerPath"]
position = Vector2( -2080, -2114 )
rotation = 1.55199

[node name="PlayerObject" type="Area2D" parent="PlayerPath/PlayerPathFollow"]
script = ExtResource( 1 )
accel = 0.45
zoom_curve = SubResource( 4 )
MAX_SPEED = 700
DEFAULT_SPEED = 70
CRASH_FORCE = 145

[node name="Player" type="Sprite" parent="PlayerPath/PlayerPathFollow/PlayerObject"]
position = Vector2( 1.8924, -0.647064 )
rotation = 1.5708
scale = Vector2( 0.4, 0.4 )
texture = ExtResource( 8 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerPath/PlayerPathFollow/PlayerObject"]
position = Vector2( 1.98328, -0.752075 )
rotation = 1.57036
scale = Vector2( 0.4, 0.4 )
shape = SubResource( 2 )

[node name="RemoteCartCamera" type="RemoteTransform2D" parent="PlayerPath/PlayerPathFollow/PlayerObject"]
position = Vector2( 66.623, -2.26453 )
rotation = 1.5708
scale = Vector2( 0.4, 0.4 )
remote_path = NodePath("../CartCamera")

[node name="AnimationPlayer" type="AnimationPlayer" parent="PlayerPath/PlayerPathFollow/PlayerObject"]
anims/skid = SubResource( 3 )

[node name="CartCamera" type="Camera2D" parent="PlayerPath/PlayerPathFollow/PlayerObject"]
position = Vector2( 66.623, -2.26428 )
rotation = 1.5708
scale = Vector2( 0.4, 0.4 )
rotating = true
zoom = Vector2( 0.25, 0.25 )
limit_smoothed = true

[node name="CollisionEffect" type="AudioStreamPlayer" parent="PlayerPath/PlayerPathFollow/PlayerObject"]
stream = ExtResource( 6 )
volume_db = -40.0

[node name="pickupCoin1" type="AudioStreamPlayer" parent="PlayerPath/PlayerPathFollow/PlayerObject"]
stream = ExtResource( 7 )
volume_db = -30.0

[node name="CanvasLayer" type="CanvasLayer" parent="PlayerPath/PlayerPathFollow/PlayerObject"]

[node name="HUD" parent="PlayerPath/PlayerPathFollow/PlayerObject/CanvasLayer" instance=ExtResource( 5 )]

[node name="ObstaclePlacer" parent="PlayerPath" instance=ExtResource( 4 )]
position = Vector2( -1797.36, -245.927 )
rotation = -1.24904
obstacle_count = 150
spawner_seed = "eject "

[node name="CoinPlacer" parent="PlayerPath" instance=ExtResource( 3 )]
position = Vector2( -2080, -2114 )
rotation = 1.55199
total_coins = 4
spawner_seed = "impostor"

[node name="EndOfLevel3Area2D" type="Area2D" parent="."]
script = ExtResource( 10 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="EndOfLevel3Area2D"]
position = Vector2( -397, -72 )
shape = SubResource( 5 )

[node name="Background Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 11 )
volume_db = -30.0
autoplay = true

[connection signal="area_shape_entered" from="PlayerPath/PlayerPathFollow/PlayerObject" to="PlayerPath/PlayerPathFollow/PlayerObject" method="_on_PlayerObject_area_shape_entered"]
[connection signal="area_shape_entered" from="EndOfLevel3Area2D" to="EndOfLevel3Area2D" method="_on_EndOfLevel3Area2D_area_shape_entered"]
